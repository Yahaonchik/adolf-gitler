import { useState } from 'react';

interface FAQItem {
  id: number;
  question: string;
  answer: string;
}

const faqData: FAQItem[] = [
  {
    id: 1,
    question: "Сколько времени занимает ремонт?",
    answer: "Время ремонта зависит от сложности поломки. Простые неисправности устраняются за 30-60 минут прямо на месте. Сложный ремонт может занять 1-3 дня в сервисном центре."
  },
  {
    id: 2,
    question: "Какую гарантию вы предоставляете?",
    answer: "Мы предоставляем гарантию 6 месяцев на выполненные р��боты и установленные запчасти. Гарантия покрывает дефекты выполненного ремонта."
  },
  {
    id: 3,
    question: "Сколько стоит диагностика?",
    answer: "Диагностика стоит 150 грн, но при выполнении ремонта она становится бесплатной. Диагностика включает полную проверку всех систем стиральной машины."
  },
  {
    id: 4,
    question: "Будет ли у мастера детали для моей техники?",
    answer: "У наших мастеров есть самые популярные запчасти в наличии. Для редких моделей детали заказываются под конкретный ремонт за 1-2 дня."
  },
  {
    id: 5,
    question: "Выезд мастера платный?",
    answer: "Выезд мастера в пределах города бесплатный. За городом стоимость выезда рассчитывается индивидуально в зависимости от расстояния."
  }
];

export default function FAQSection() {
  const [openItems, setOpenItems] = useState<Set<number>>(new Set());

  const toggleItem = (id: number) => {
    const newOpenItems = new Set(openItems);
    if (newOpenItems.has(id)) {
      newOpenItems.delete(id);
    } else {
      newOpenItems.add(id);
    }
    setOpenItems(newOpenItems);
  };

  return (
    <div className="w-full flex justify-center py-8">
      <div className="relative w-full max-w-4xl">
        
        {/* TOP SVG FRAME - Static 277x65 */}
        <div className="flex">
          <div style={{ width: '277px', height: '65px' }}>
            <svg 
              width="277" 
              height="65" 
              viewBox="0 0 285 76" 
              fill="none" 
              xmlns="http://www.w3.org/2000/svg"
            >
              <defs>
                <linearGradient id="topGradient" x1="0" y1="326" x2="346" y2="329.5" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#606060"/>
                  <stop offset="1" stopColor="#FF9A51"/>
                </linearGradient>
              </defs>
              <path d="M277 73.9388V75.4388H278.5V73.9388H277ZM269 8C269 12.4183 272.582 16 277 16C281.418 16 285 12.4183 285 8C285 3.58172 281.418 0 277 0C272.582 0 269 3.58172 269 8ZM0 73.9388L0 75.4388H3.4625L3.4625 73.9388V72.4388H0L0 73.9388ZM10.3875 73.9388V75.4388H17.3125V73.9388L17.3125 72.4388H10.3875V73.9388ZM24.2375 73.9388V75.4388L31.1625 75.4388V73.9388L31.1625 72.4388L24.2375 72.4388L24.2375 73.9388ZM38.0875 73.9388V75.4388H45.0125V73.9388V72.4388H38.0875V73.9388ZM51.9375 73.9388V75.4388H58.8625V73.9388V72.4388H51.9375V73.9388ZM65.7875 73.9388V75.4388H72.7125V73.9388V72.4388H65.7875V73.9388ZM79.6375 73.9388V75.4388H86.5625V73.9388V72.4388H79.6375V73.9388ZM93.4875 73.9388V75.4388H100.413V73.9388V72.4388H93.4875V73.9388ZM107.338 73.9388V75.4388H114.263V73.9388V72.4388H107.338V73.9388ZM121.188 73.9388V75.4388H128.113V73.9388V72.4388H121.188V73.9388ZM135.038 73.9388V75.4388H141.963V73.9388V72.4388H135.038V73.9388ZM148.888 73.9388V75.4388H155.813V73.9388V72.4388H148.888V73.9388ZM162.738 73.9388V75.4388H169.663V73.9388V72.4388H162.738V73.9388ZM176.588 73.9388V75.4388H183.513V73.9388V72.4388H176.588V73.9388ZM190.438 73.9388V75.4388H197.363V73.9388V72.4388H190.438V73.9388ZM204.288 73.9388V75.4388H211.213V73.9388V72.4388H204.288V73.9388ZM218.138 73.9388V75.4388H225.063V73.9388V72.4388H218.138V73.9388ZM231.988 73.9388V75.4388H238.913V73.9388V72.4388H231.988V73.9388ZM245.838 73.9388V75.4388H252.763V73.9388V72.4388H245.838V73.9388ZM259.688 73.9388V75.4388L266.613 75.4388V73.9388V72.4388L259.688 72.4388V73.9388ZM273.538 73.9388V75.4388H277V73.9388V72.4388H273.538V73.9388ZM277 73.9388H278.5V70.6418H277L275.5 70.6418V73.9388H277ZM277 64.0479H278.5V57.4541H277L275.5 57.4541V64.0479L277 64.0479ZM277 50.8602H278.5V44.2663H277L275.5 44.2663V50.8602L277 50.8602ZM277 37.6724H278.5V31.0786H277H275.5V37.6724H277ZM277 24.4847H278.5V17.8908H277H275.5V24.4847H277ZM277 11.2969H278.5V8L277 8H275.5V11.2969H277Z" fill="url(#topGradient)"/>
            </svg>
          </div>
        </div>

        {/* MIDDLE FRAME - Dynamic with FAQ content */}
        <div className="flex">
          {/* Left SVG line - Dynamic height */}
          <div style={{ width: '4px' }}>
            <svg 
              width="4" 
              style={{ height: '100%', minHeight: '584px' }}
              viewBox="0 0 4 586" 
              fill="none" 
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="none"
            >
              <defs>
                <linearGradient id="middleGradient" x1="2" y1="253" x2="348" y2="256.5" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#606060"/>
                  <stop offset="1" stopColor="#ED9E65"/>
                </linearGradient>
              </defs>
              <path d="M2 0.9375L0.5 0.9375L0.5 4.41728H2H3.5L3.5 0.9375L2 0.9375ZM2 11.3768H0.5L0.5 18.3364H2H3.5L3.5 11.3768H2ZM2 25.296H0.5L0.5 32.2555H2H3.5L3.5 25.296H2ZM2 39.2151H0.5L0.5 46.1747H2H3.5L3.5 39.2151H2ZM2 53.1342H0.5L0.5 60.0938H2H3.5L3.5 53.1342H2ZM2 67.0534H0.5L0.5 74.0129H2H3.5L3.5 67.0534H2ZM2 80.9725H0.5L0.5 87.932H2H3.5L3.5 80.9725H2ZM2 94.8916H0.5L0.5 101.851H2H3.5L3.5 94.8916H2ZM2 108.811H0.5L0.5 115.77H2H3.5L3.5 108.811H2ZM2 122.73H0.5L0.5 129.689H2H3.5L3.5 122.73H2ZM2 136.649H0.5L0.5 143.609H2H3.5L3.5 136.649H2ZM2 150.568H0.5L0.5 157.528H2H3.5L3.5 150.568H2ZM2 164.487H0.5L0.5 171.447H2H3.5L3.5 164.487H2ZM2 178.406H0.5L0.5 185.366H2H3.5L3.5 178.406H2ZM2 192.325H0.5L0.5 199.285H2H3.5L3.5 192.325H2ZM2 206.245H0.5L0.5 213.204H2H3.5L3.5 206.245H2ZM2 220.164H0.5L0.5 227.123H2H3.5L3.5 220.164H2ZM2 234.083H0.5L0.5 241.042H2H3.5L3.5 234.083H2ZM2 248.002H0.5L0.5 254.962H2H3.5L3.5 248.002H2ZM2 261.921H0.5L0.5 268.881H2H3.5L3.5 261.921H2ZM2 275.84H0.5L0.5 282.8H2H3.5L3.5 275.84H2ZM2 289.759H0.5L0.5 296.719H2H3.5L3.5 289.759H2ZM2 303.679H0.5L0.5 310.638H2H3.5L3.5 303.679H2ZM2 317.598H0.5L0.5 324.557H2H3.5L3.5 317.598H2ZM2 331.517H0.5L0.5 338.476H2H3.5L3.5 331.517H2ZM2 345.436H0.5L0.5 352.395H2H3.5L3.5 345.436H2ZM2 359.355H0.5L0.5 366.315H2H3.5L3.5 359.355H2ZM2 373.274H0.5L0.5 380.234H2H3.5L3.5 373.274H2ZM2 387.193H0.5L0.5 394.153H2H3.5L3.5 387.193H2ZM2 401.112H0.5L0.5 408.072H2H3.5L3.5 401.112H2ZM2 415.032H0.5L0.5 421.991H2H3.5L3.5 415.032H2ZM2 428.951H0.5L0.5 435.91H2H3.5L3.5 428.951H2ZM2 442.87H0.5L0.5 449.829H2H3.5L3.5 442.87H2ZM2 456.789H0.5L0.5 463.749H2H3.5L3.5 456.789H2ZM2 470.708H0.5L0.5 477.668H2H3.5L3.5 470.708H2ZM2 484.627H0.5L0.5 491.587H2H3.5L3.5 484.627H2ZM2 498.546H0.5L0.5 505.506H2H3.5L3.5 498.546H2ZM2 512.465H0.5L0.5 519.425H2H3.5L3.5 512.465H2ZM2 526.385H0.5L0.5 533.344H2H3.5L3.5 526.385H2ZM2 540.304H0.5L0.5 547.263H2H3.5L3.5 540.304H2ZM2 554.223H0.5L0.5 561.182H2H3.5L3.5 554.223H2ZM2 568.142H0.5L0.5 575.101H2H3.5L3.5 568.142H2ZM2 582.061H0.5L0.5 585.541H2H3.5L3.5 582.061H2Z" fill="url(#middleGradient)"/>
            </svg>
          </div>

          {/* FAQ Content */}
          <div className="flex-1 pl-8 space-y-6" style={{ paddingTop: '2rem' }}>
            {faqData.map((item, index) => (
              <div key={item.id} className="relative">
                {/* Question */}
                <div className="flex items-center group cursor-pointer" onClick={() => toggleItem(item.id)}>
                  {/* Plus/Minus Button positioned on the line */}
                  <button
                    className="absolute flex items-center justify-center transition-transform duration-200 hover:scale-110 z-20 font-nunito"
                    style={{
                      left: '-50.5px', // Account for pl-8 (32px) + center on 4px line (-18.5px)
                      width: '41px',
                      height: '41px',
                      borderRadius: '250px',
                      background: '#EDEADB',
                      color: '#ED9E65',
                      fontSize: '30px',
                      fontWeight: '400',
                      lineHeight: 'normal'
                    }}
                  >
                    {openItems.has(item.id) ? '−' : '+'}
                  </button>
                  
                  <h3 className="text-lg font-medium text-gray-900 group-hover:text-orange-600 transition-colors" style={{ marginLeft: '20px' }}>
                    {item.question}
                  </h3>
                </div>

                {/* Answer */}
                <div
                  className={`overflow-hidden transition-all duration-300 ease-out ${
                    openItems.has(item.id) ? 'max-h-40 opacity-100' : 'max-h-0 opacity-0'
                  }`}
                  style={{ marginTop: '20px' }}
                >
                  <div style={{ maxWidth: '480px' }}>
                    <p className="text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg">
                      {item.answer}
                    </p>
                  </div>
                </div>

                {/* Spacer */}
                {index < faqData.length - 1 && <div className="h-16"></div>}
              </div>
            ))}
          </div>
        </div>

        {/* BOTTOM SVG FRAME - Static 346x159 */}
        <div className="flex">
          <div style={{ width: '346px', height: '159px' }}>
            <svg 
              width="346" 
              height="159" 
              viewBox="0 0 354 169" 
              fill="none" 
              xmlns="http://www.w3.org/2000/svg"
            >
              <defs>
                <linearGradient id="bottomGradient" x1="0" y1="-331" x2="346" y2="-327.5" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#606060"/>
                  <stop offset="1" stopColor="#FF9E58"/>
                </linearGradient>
              </defs>
              <path d="M346 1.53906L347.5 1.53906V0.0390625L346 0.0390625V1.53906ZM338 160.997C338 165.415 341.582 168.997 346 168.997C350.418 168.997 354 165.415 354 160.997C354 156.579 350.418 152.997 346 152.997C341.582 152.997 338 156.579 338 160.997ZM0 1.53906L0 3.03906L3.46 3.03906L3.46 1.53906L3.46 0.0390625L0 0.0390625L0 1.53906ZM10.38 1.53906V3.03906L17.3 3.03906V1.53906V0.0390625L10.38 0.0390625V1.53906ZM24.22 1.53906V3.03906L31.14 3.03906V1.53906V0.0390625L24.22 0.0390625V1.53906ZM38.06 1.53906V3.03906L44.98 3.03906V1.53906V0.0390625L38.06 0.0390625V1.53906ZM51.9 1.53906V3.03906L58.82 3.03906V1.53906V0.0390625L51.9 0.0390625V1.53906ZM65.74 1.53906V3.03906L72.66 3.03906V1.53906V0.0390625L65.74 0.0390625V1.53906ZM79.58 1.53906V3.03906L86.5 3.03906V1.53906V0.0390625L79.58 0.0390625V1.53906ZM93.42 1.53906V3.03906L100.34 3.03906V1.53906V0.0390625L93.42 0.0390625V1.53906ZM107.26 1.53906V3.03906L114.18 3.03906V1.53906V0.0390625L107.26 0.0390625V1.53906ZM121.1 1.53906V3.03906L128.02 3.03906V1.53906V0.0390625L121.1 0.0390625V1.53906ZM134.94 1.53906V3.03906L141.86 3.03906V1.53906V0.0390625L134.94 0.0390625V1.53906ZM148.78 1.53906V3.03906L155.7 3.03906V1.53906V0.0390625L148.78 0.0390625V1.53906ZM162.62 1.53906V3.03906L169.54 3.03906V1.53906V0.0390625L162.62 0.0390625V1.53906ZM176.46 1.53906V3.03906L183.38 3.03906V1.53906V0.0390625L176.46 0.0390625V1.53906ZM190.3 1.53906V3.03906L197.22 3.03906V1.53906V0.0390625L190.3 0.0390625V1.53906ZM204.14 1.53906V3.03906L211.06 3.03906V1.53906V0.0390625L204.14 0.0390625V1.53906ZM217.98 1.53906V3.03906L224.9 3.03906V1.53906V0.0390625L217.98 0.0390625V1.53906ZM231.82 1.53906V3.03906L238.74 3.03906V1.53906V0.0390625L231.82 0.0390625V1.53906ZM245.66 1.53906V3.03906L252.58 3.03906V1.53906V0.0390625L245.66 0.0390625V1.53906ZM259.5 1.53906V3.03906L266.42 3.03906V1.53906V0.0390625L259.5 0.0390625V1.53906ZM273.34 1.53906V3.03906L280.26 3.03906V1.53906V0.0390625L273.34 0.0390625V1.53906ZM287.18 1.53906V3.03906L294.1 3.03906V1.53906V0.0390625L287.18 0.0390625V1.53906ZM301.02 1.53906V3.03906L307.94 3.03906V1.53906V0.0390625L301.02 0.0390625V1.53906ZM314.86 1.53906V3.03906L321.78 3.03906V1.53906V0.0390625L314.86 0.0390625V1.53906ZM328.7 1.53906V3.03906L335.62 3.03906V1.53906V0.0390625L328.7 0.0390625V1.53906ZM342.54 1.53906V3.03906L346 3.03906V1.53906V0.0390625L342.54 0.0390625V1.53906ZM346 1.53906L344.5 1.53906V5.16311L346 5.16311H347.5V1.53906L346 1.53906ZM346 12.4112H344.5V19.6593H346H347.5V12.4112H346ZM346 26.9074H344.5V34.1554H346H347.5V26.9074H346ZM346 41.4035H344.5V48.6516H346H347.5V41.4035H346ZM346 55.8997H344.5V63.1478H346H347.5V55.8997H346ZM346 70.3959H344.5V77.644H346H347.5V70.3959H346ZM346 84.892H344.5V92.1401H346H347.5V84.892H346ZM346 99.3882H344.5V106.636H346H347.5V99.3882H346ZM346 113.884H344.5L344.5 121.132H346H347.5L347.5 113.884H346ZM346 128.381H344.5V135.629H346H347.5V128.381H346ZM346 142.877H344.5V150.125H346H347.5V142.877H346ZM346 157.373H344.5V160.997H346H347.5V157.373H346Z" fill="url(#bottomGradient)"/>
            </svg>
          </div>
        </div>

      </div>
    </div>
  );
}
